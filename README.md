# ç§åŸŸå•†åŸç³»ç»Ÿ

ç§åŸŸå•†åŸç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºPHPçš„ç°ä»£åŒ–B2Cç”µå•†å¹³å°ï¼Œé›†æˆäº†å¾®ä¿¡å°ç¨‹åºã€å¤šç§æ”¯ä»˜æ–¹å¼ã€çŸ­ä¿¡æœåŠ¡ç­‰å®Œæ•´ç”µå•†åŠŸèƒ½ã€‚

## ğŸ¯ ç³»ç»ŸåŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- **ç”¨æˆ·ç®¡ç†** - ä¼šå‘˜ç³»ç»Ÿã€æƒé™ç®¡ç†ã€ç”¨æˆ·ä¸­å¿ƒ
- **å•†å“ç®¡ç†** - å•†å“åˆ†ç±»ã€SKUç®¡ç†ã€åº“å­˜ç®¡ç†
- **è®¢å•ç®¡ç†** - è®¢å•å¤„ç†ã€æ”¯ä»˜ã€å‘è´§ã€é€€è´§
- **æ”¯ä»˜ç³»ç»Ÿ** - å¾®ä¿¡æ”¯ä»˜ã€æ”¯ä»˜å®ç­‰å¤šæ¸ é“æ”¯ä»˜
- **å°ç¨‹åºæ”¯æŒ** - å®Œæ•´çš„å¾®ä¿¡å°ç¨‹åºAPIæ¥å£
- **è¥é”€åŠŸèƒ½** - ä¿ƒé”€æ´»åŠ¨ã€ä¼˜æƒ åˆ¸ã€ä¼šå‘˜ç­‰çº§
- **ç‰©æµç®¡ç†** - ç”µå­é¢å•ã€å¿«é€’æŸ¥è¯¢
- **çŸ­ä¿¡æœåŠ¡** - è…¾è®¯äº‘çŸ­ä¿¡éªŒè¯ç å’Œé€šçŸ¥
- **åå°ç®¡ç†** - å®Œæ•´çš„åå°ç®¡ç†ç³»ç»Ÿ

### æŠ€æœ¯æ¶æ„
- **åç«¯**ï¼šPHP 8.0+ï¼ŒMySQL 8.0+
- **å‰ç«¯**ï¼šåŸç”ŸPHPæ¨¡æ¿ + React (å¯é€‰)
- **å®‰å…¨**ï¼šCSRFé˜²æŠ¤ã€SQLæ³¨å…¥é˜²æŠ¤ã€XSSé˜²æŠ¤
- **ç¼“å­˜**ï¼šæ”¯æŒRedisç¼“å­˜ï¼ˆå¯é€‰ï¼‰

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æœåŠ¡å™¨è¦æ±‚
- PHP 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- MySQL 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- Apache/Nginx WebæœåŠ¡å™¨
- æ”¯æŒHTTPSï¼ˆæ¨èï¼‰

### PHPæ‰©å±•è¦æ±‚
```bash
- PDO MySQLæ‰©å±•
- JSONæ‰©å±•  
- MBStringæ‰©å±•
- GDå›¾åƒå¤„ç†æ‰©å±•
- cURLæ‰©å±•
- OpenSSLæ‰©å±•
```

## ğŸš€ å¿«é€Ÿå®‰è£…

### æ–¹æ³•ä¸€ï¼šåœ¨çº¿å®‰è£…ï¼ˆæ¨èï¼‰
1. ä¸Šä¼ æºç åˆ°æœåŠ¡å™¨
2. è®¾ç½®Webæ ¹ç›®å½•ä¸ºé¡¹ç›®æ ¹ç›®å½•
3. è®¿é—® `http://yourdomain.com/install.php`
4. æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆé…ç½®

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
1. å¯¼å…¥æ•°æ®åº“ï¼šæ‰§è¡Œ `database/schema.sql`
2. å¤åˆ¶é…ç½®æ–‡ä»¶ï¼š`config/config.php.example` â†’ `config/config.php`
3. ä¿®æ”¹æ•°æ®åº“é…ç½®
4. è®¾ç½®ç›®å½•æƒé™ï¼š
   ```bash
   chmod 755 public/uploads/
   chmod 644 config/config.php
   ```

## ğŸ“Š æ•°æ®åº“ç»“æ„

### æ ¸å¿ƒæ•°æ®è¡¨
- `users` - ç”¨æˆ·è¡¨
- `products` - å•†å“è¡¨  
- `orders` - è®¢å•è¡¨
- `payments` - æ”¯ä»˜è®°å½•è¡¨
- `site_settings` - ç³»ç»Ÿé…ç½®è¡¨
- `categories` - å•†å“åˆ†ç±»è¡¨
- `cart` - è´­ç‰©è½¦è¡¨
- `addresses` - æ”¶è´§åœ°å€è¡¨

### å°ç¨‹åºç›¸å…³è¡¨
- `user_tokens` - ç”¨æˆ·Tokenè¡¨
- å°ç¨‹åºé…ç½®åœ¨ `site_settings` è¡¨ä¸­

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### å®‰å…¨é˜²æŠ¤
- CSRF Tokené˜²æŠ¤
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆPDOé¢„å¤„ç†ï¼‰
- XSSè·¨ç«™è„šæœ¬é˜²æŠ¤
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨éªŒè¯
- å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆBcryptï¼‰
- è¯·æ±‚é¢‘ç‡é™åˆ¶

### æ•°æ®å®‰å…¨
- æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨
- æ•°æ®åº“è¿æ¥å®‰å…¨é…ç½®
- HTTPSå¼ºåˆ¶é‡å®šå‘
- å®‰å…¨å“åº”å¤´è®¾ç½®

## ğŸ“± å°ç¨‹åºé›†æˆ

### å°ç¨‹åºåŠŸèƒ½
- å¾®ä¿¡ç™»å½•æˆæƒ
- å•†å“æµè§ˆå’Œæœç´¢
- è´­ç‰©è½¦ç®¡ç†
- è®¢å•åˆ›å»ºå’Œæ”¯ä»˜
- ç”¨æˆ·è®¢å•ç®¡ç†
- æ”¶è´§åœ°å€ç®¡ç†

### APIæ¥å£
```
POST /api/miniprogram/login          # å°ç¨‹åºç™»å½•
GET  /api/miniprogram/products       # å•†å“åˆ—è¡¨
GET  /api/miniprogram/product/detail  # å•†å“è¯¦æƒ…
POST /api/miniprogram/order/create   # åˆ›å»ºè®¢å•
POST /api/miniprogram/order/pay      # å°ç¨‹åºæ”¯ä»˜
GET  /api/miniprogram/orders         # ç”¨æˆ·è®¢å•
POST /api/miniprogram/order/cancel   # å–æ¶ˆè®¢å•
```

## ğŸ’³ æ”¯ä»˜é›†æˆ

### æ”¯æŒçš„æ”¯ä»˜æ–¹å¼
- **å¾®ä¿¡æ”¯ä»˜** - Nativeæ”¯ä»˜ã€JSAPIæ”¯ä»˜
- **æ”¯ä»˜å®** - ç½‘é¡µæ”¯ä»˜ã€Appæ”¯ä»˜
- **å¤šå•†æˆ·æ”¯æŒ** - æ”¯æŒå¤šä¸ªæ”¯ä»˜é€šé“

### æ”¯ä»˜æµç¨‹
1. åˆ›å»ºæ”¯ä»˜è®¢å•
2. ç”Ÿæˆæ”¯ä»˜å‚æ•°
3. ç”¨æˆ·æ”¯ä»˜
4. å¼‚æ­¥å›è°ƒå¤„ç†
5. è®¢å•çŠ¶æ€æ›´æ–°

## ğŸ“§ çŸ­ä¿¡æœåŠ¡

### çŸ­ä¿¡åœºæ™¯
- ç”¨æˆ·æ³¨å†ŒéªŒè¯ç 
- ç™»å½•éªŒè¯ç 
- è®¢å•ç¡®è®¤é€šçŸ¥
- æ”¯ä»˜æˆåŠŸé€šçŸ¥
- å‘è´§é€šçŸ¥
- é€€æ¬¾é€šçŸ¥

### é…ç½®è¯´æ˜
åœ¨åå°ç®¡ç†ç³»ç»Ÿä¸­é…ç½®è…¾è®¯äº‘çŸ­ä¿¡æœåŠ¡å‚æ•°ï¼š
- SecretId/SecretKey
- SDK AppID
- çŸ­ä¿¡ç­¾å
- å„åœºæ™¯æ¨¡æ¿ID

## ğŸ”§ åå°ç®¡ç†

### ç®¡ç†åŠŸèƒ½
- ç”¨æˆ·ç®¡ç†
- å•†å“ç®¡ç†
- è®¢å•ç®¡ç†
- æ”¯ä»˜é€šé“ç®¡ç†
- ç³»ç»Ÿè®¾ç½®
- å°ç¨‹åºè®¾ç½®
- çŸ­ä¿¡è®¾ç½®
- ç‰©æµç®¡ç†

### è®¿é—®åœ°å€
- åå°åœ°å€ï¼š`http://yourdomain.com/admin`
- é»˜è®¤ç®¡ç†å‘˜ï¼šadmin / å®‰è£…æ—¶è®¾ç½®çš„å¯†ç 

## ğŸ› å¸¸è§é—®é¢˜

### å®‰è£…é—®é¢˜
1. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼šæ£€æŸ¥æ•°æ®åº“é…ç½®å’Œæƒé™
2. **æ–‡ä»¶æƒé™é”™è¯¯**ï¼šè®¾ç½®æ­£ç¡®çš„ç›®å½•æƒé™
3. **PHPç‰ˆæœ¬è¿‡ä½**ï¼šå‡çº§åˆ°PHP 8.0+

### å°ç¨‹åºé—®é¢˜
1. **å°ç¨‹åºåŠŸèƒ½æœªå¼€å¯**ï¼šåœ¨åå°è®¾ç½®ä¸­å¼€å¯å°ç¨‹åºåŠŸèƒ½
2. **APIæ¥å£æŠ¥é”™**ï¼šæ£€æŸ¥å°ç¨‹åºé…ç½®å‚æ•°
3. **Tokenè¿‡æœŸ**ï¼šé‡æ–°ç™»å½•è·å–æ–°Token

### æ”¯ä»˜é—®é¢˜
1. **æ”¯ä»˜å¤±è´¥**ï¼šæ£€æŸ¥æ”¯ä»˜é€šé“é…ç½®
2. **å›è°ƒå¤„ç†å¤±è´¥**ï¼šæ£€æŸ¥æœåŠ¡å™¨ç½‘ç»œå’Œé…ç½®

## ğŸ”„ æ›´æ–°ç»´æŠ¤

### æ•°æ®å¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -u username -p database_name > backup.sql

# å¤‡ä»½æºç 
zip -r project_backup.zip ./
```

### ç³»ç»Ÿæ›´æ–°
1. å¤‡ä»½æ•°æ®å’Œæºç 
2. ä¸‹è½½æ–°ç‰ˆæœ¬è¦†ç›–æ›´æ–°
3. æ‰§è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬
4. æ£€æŸ¥ç³»ç»ŸåŠŸèƒ½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ–‡æ¡£èµ„æº
- [å®‰è£…æŒ‡å—](install_instructions.md)
- [APIæ–‡æ¡£](docs/api.md)
- [å¼€å‘æ‰‹å†Œ](docs/development.md)

### æµ‹è¯•å·¥å…·
- å°ç¨‹åºAPIæµ‹è¯•ï¼š`test_miniprogram_api.php`
- çŸ­ä¿¡æœåŠ¡æµ‹è¯•ï¼š`test_sms_service.php`
- å°ç¨‹åºé…ç½®æ£€æŸ¥ï¼š`check_miniprogram_settings.php`

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æºï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

---

**æ³¨æ„**ï¼šç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·åŠ¡åˆ é™¤æµ‹è¯•æ–‡ä»¶ï¼š
- `test_miniprogram_api.php`
- `test_sms_service.php`
- `check_miniprogram_settings.php`
- `install.php`ï¼ˆå®‰è£…å®Œæˆååˆ é™¤ï¼‰